<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
			<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
			<meta http-equiv="X-UA-Compatible" content="ie=edge">
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
			<script src="js/jquery.min.js" type="text/javascript"></script>
			<script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" data-auto-replace-svg="nest"></script>.
			<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

		<title>Curso JQuery</title>
	</head>
	<body>
		<style>
			html{
				font-size:62.5%;
			}
			body{
				background-color: orange;
				width: 100%;
				height: 100%;
			}
			#Contenedor_principal{
				display: flex;
				align-items: center;
				justify-content: center;
				margin: 10px;
				border: 2px solid #000;
				height: 600px;
				width: 90%;
			}
			#Contenedor_principal .btn{
				background-color: rgba(225,2,2,0.5);
				position: absolute;
				width: 100px;
				height: 100px;
				margin: 0;
				display: flex;
				justify-content: center;
				align-items: center;

			}	
			.btn p{
				margin: 0;
				color: white;
				font-size:2rem;
				font-weight: bold;

			}
			.btn img{

				width: 100%;
				height: auto;

			}
		</style>

		<center>
		
			<button id="left" class="fa fa-backward"></button>
			<button id="right" class="fa fa-forward"></button>
			<button id="up" class="fa fa-caret-up"></button>
			<button id="down" class="fa fa-caret-down"></button>
		
			<div id="Contenedor_principal">
				
				<button class="btn btn-outline-primary">
				
				<img src="pics/speedygonzales.gif">
				
				</button>
			</div>
		</center>


		<script>
			$(function(){
				var desplazamiento = [];
				var direccion = ['top','left','top','top','top','left','left','top','left','left','top','top','left'];
				var number = [];
				

				$('.btn').mousedown(function(e){
						if(e.which === 1){
							$(this).animate({
								height: ['+=300','easeOutBounce',],
								width: ['+=200','linear']
							});

							$('.btn p').css('font-size','4rem');
							$('.btn').removeClass('btn-outline-primary')
							$('.btn').addClass('btn-outline-danger');
						}
						
					});
					$('.btn').mouseup(function(e){
						if(e.which === 1){
							$(this).animate({
								height: ['-=300','easeOutBounce',],
								width: ['-=200','linear']
							});
							$('.btn p').css('font-size','2rem');
							$('.btn').removeClass('btn-outline-danger');
							$('.btn').addClass('btn-outline-primary');
							dir = {};
							for (var i = 0; i <= 1; i++) {
								desplazamiento_Aleatorio(0, 100);
								sentido_random(0, 12);
								dir[direccion[number]] = '+='+desplazamiento;
								console.log(number);
								console.log(desplazamiento + " x");
								$('.btn').animate(dir,10);
								desplazamiento_Aleatorio(0, 100);
								sentido_random(0, 12);
								dir[direccion[number]] = '-='+desplazamiento;
								$('.btn').animate(dir,10);
								console.log(number);
								console.log(desplazamiento + " y");
							}
						}
						
					});
					function desplazamiento_Aleatorio(min, max) {
							var num = Math.round(Math.random() * (max - min) + min);
							desplazamiento = num;
						
					}
					function sentido_random(min, max) {
							var num = Math.round(Math.random() * (max - min) + min);
							number = num;						
					}
					$('body').keydown(function(event){
						if(event.keyCode == 37){
							$('.btn').animate({'left':'-=5px'},1);
							console.log('left');
						}else if(event.keyCode == 39){
							$('.btn').animate({'left':'+=5px'},1);
							console.log('right');
						}else if(event.keyCode == 38){
							$('.btn').animate({'top':'-=5px'},1);
							console.log('up');
						}else if(event.keyCode == 40){
							$('.btn').animate({'top':'+=5px'},1);
							console.log('down');
						}else{
							console.log('presione las teclas de direcciÃ³n');
						}
					});				
					$('#left').click(function(){
						$('.btn').animate({'left':'-=20px'});
						console.log('left');
					});
					$('#right').click(function(){
						$('.btn').animate({'left':'+=20px'});
						console.log('right');
					});
					$('#up').click(function(){
						$('.btn').animate({'top':'-=20px'});
						console.log('up');
					});
					$('#down').click(function(){
						$('.btn').animate({'top':'+=20px'});
						console.log('down');
					});
			});
		</script>
	</body>
</html>